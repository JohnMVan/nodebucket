<!--
Title:  login.component.html
Original Author: Richard Krasso
Appended by:  John Vanhessche
Date 22 March 2023
Description:  HTML file for the login component.
-->



<div fxLayout="column" >
    <mat-card fxFlex class="login-container">
        <mat-card-header>
            <mat-card-title class="login-title">
                Employee Sign-in Page
            </mat-card-title>

            <br>

            <mat-card-subtitle  class="login-subtitle">
                You must enter a valid employee Id to continue.
            </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>

            <!-- This popup modal is displayed is user enters an invalid id.  Using Primng messages. -->
            <p-messages [(value)]="errorMessages" [enableService]="false"></p-messages>
            
            <mat-card class="mat-elevation-z0">
                <form [formGroup]="loginForm" (ngSubmit)='login(); loginForm.reset();'>
                    <mat-card-content>
                        <mat-form-field appearance="fill" class="w-100">
                            <input matInput 
                                    formControlName="empId" 
                                    placeholder="Employee ID" />

                            <mat-error *ngIf="loginForm.controls['empId'].hasError('required') && loginForm.controls['empId'].touched">
                                Employee ID is a required field.
                            </mat-error>
                            
                            <mat-error *ngIf="loginForm.controls['empId'].hasError('pattern') && loginForm.controls['empId'].touched">
                                Employee ID must be a number.
                            </mat-error>

                        </mat-form-field>
                        
                    </mat-card-content>                        

                    <mat-card-actions>
                        <button type="submit" fxFlex mat-raised-button color="primary" [disabled]="!loginForm.valid" class="btn-lg">Log In</button>
                    </mat-card-actions>
                </form>
            </mat-card>
            
        </mat-card-content>
        
    </mat-card>
</div>
